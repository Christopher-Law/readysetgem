---
import { mailtoHref } from "../lib/constants";

type Props = {
	/**
	 * On the home page, section links can be in-page anchors (e.g. "#pricing").
	 * On other pages, use absolute anchors (e.g. "/#pricing") so they work cross-page.
	 */
	sectionHrefPrefix?: "" | "/";
	active?: "home";
};

const { sectionHrefPrefix = "", active } = Astro.props;
const sectionHref = (id: string) => `${sectionHrefPrefix}#${id}`;
---

<header class="sticky top-0 z-50 border-b border-slate-200/80 bg-white/80 backdrop-blur">
	<div class="mx-auto flex w-full max-w-6xl items-center justify-between px-5 py-4">
		<a href="/" class="group flex items-center gap-3">
			<img src="/logo-green.png" alt="Slabworks logo" class="h-9 w-9" />
			<div class="leading-tight">
				<div class="text-sm font-semibold tracking-wide text-slate-700">Slabworks</div>
				<div class="text-base font-bold tracking-tight text-slate-950">Trading card restoration</div>
			</div>
		</a>

		<nav class="hidden items-center gap-1 md:flex" aria-label="Primary">
			{active !== "home" ? (
				<a class="rounded-full px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-950" href="/">
					Home
				</a>
			) : null}

			<a class="rounded-full px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-950" href={sectionHref("how-it-works")}>
				How it works
			</a>
			<a class="rounded-full px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-950" href={sectionHref("pricing")}>
				Pricing
			</a>
			<a class="rounded-full px-3 py-2 text-sm font-medium text-slate-700 hover:bg-slate-100 hover:text-slate-950" href={sectionHref("faq")}>
				FAQ
			</a>

			<a
				class="ml-1 inline-flex items-center justify-center rounded-full bg-emerald-600 px-4 py-2 text-sm font-bold text-white shadow-sm hover:bg-emerald-600"
				href={mailtoHref}
			>
				Email photos
			</a>
		</nav>

		<a
			class="md:hidden inline-flex items-center justify-center rounded-full bg-emerald-600 px-4 py-2 text-sm font-bold text-white shadow-sm hover:bg-emerald-600"
			href={mailtoHref}
		>
			Email photos
		</a>
	</div>
</header>

