---
import Layout from "../layouts/Layout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
import BeforeAfterSwitcher from "../components/BeforeAfterSwitcher.astro";
import BeforeAfterSwitcherScript from "../components/BeforeAfterSwitcherScript.astro";
import { socials, mailtoHref } from "../lib/constants";

const structuredData = {
	"@context": "https://schema.org",
	"@type": "ProfessionalService",
	name: "Slabworks",
	description:
		"Trading card restoration service. We carefully restore your cards with detailed inspection and honest communication. Based in Kingston, Ontario.",
	email: "chris@slabworks.ca",
	areaServed: "North America",
	address: {
		"@type": "PostalAddress",
		addressLocality: "Kingston",
		addressRegion: "ON",
		addressCountry: "CA",
	},
	makesOffer: {
		"@type": "Offer",
		price: "50",
		priceCurrency: "CAD",
		description: "$50 per card. 10% off on orders of 10+ cards.",
	},
	sameAs: socials.map((s) => s.href),
} as const;


const howItWorks = [
	{
		n: "01",
		title: "Email photos first",
		body: "Send front/back + close-ups + your goal (display, preservation, grading). We'll tell you what's realistic and any risks before you ship anything.",
	},
	{
		n: "02",
		title: "We review and send a plan",
		body: "If we can take the job, we'll reply with a simple plan, a quote (based on your card count), and an estimated turnaround.",
	},
	{
		n: "03",
		title: "You approve, then you ship",
		body: "After approval, we'll provide shipping details and packing notes. When your cards arrive, we confirm intake and send your invoice. Restoration begins after payment.",
	},
] as const;

const faqs = [
	{
		q: "Do I need to contact you before shipping my cards?",
		a: "Yes, please email photos first. We'll confirm if we can take the job and then provide shipping details and intake steps.",
	},
	{
		q: "How much does it cost?",
		a: "It's $50 per card. Orders of 10+ cards receive a 10% discount. Shipping costs are separate.",
	},
	{
		q: "Will this improve my card’s grade?",
		a: "Maybe, but we don't guarantee it. We focus on conservative improvement and stability, not chasing grades.",
	},
	{
		q: "How long does it take?",
		a: "We’ll quote an estimated turnaround in our email after we review your photos. Timing depends on the queue, card count, and damage level.",
	},
	{
		q: "How quickly do you respond?",
		a: "We typically reply to new requests within 1–2 business days.",
	},
	{
		q: "What if I don’t approve the plan?",
		a: "That's okay. If you've already shipped cards in, we'll return them safely; return shipping is billed at cost with tracking.",
	},
	{
		q: "Do you work on my kind of cards?",
		a: "Usually, yes. We work on Pokémon, Yu-Gi-Oh!, Magic: The Gathering, sports cards, and other trading cards. Email photos and we'll confirm.",
	},
	{
		q: "What if my card is too damaged?",
		a: "We’ll tell you upfront. If a card has severe stock separation, mold risk, heavy water damage, or if work would likely be considered alteration, we’ll recommend against restoration.",
	},
	{
		q: "What do you mean by restoration vs alteration?",
		a: "We restore, we don't alter. If a job may be considered alteration by some grading companies or policies, we'll let you know upfront and recommend against it.",
	},
	{
		q: "How should I pack my cards for shipping?",
		a: "We'll provide shipping details and packing notes. In general:",
		bullets: [
			"Penny sleeve + semi-rigid holder like a Card Saver, or toploader",
			"Team bag with no adhesive touching the card",
			"Bubble wrap + sturdy box",
			"Include a list of cards and your contact info",
		],
	},
] as const;
---

<Layout
	title="Slabworks - Card Restoration"
	description="Trading card restoration service. We carefully restore your cards with detailed inspection and honest communication. Based in Kingston, Ontario."
>
	<script type="application/ld+json" set:html={JSON.stringify(structuredData)}></script>

	<a
		href="#main"
		class="sr-only focus:not-sr-only focus:fixed focus:left-4 focus:top-4 focus:z-50 rounded-full bg-white px-4 py-2 text-sm font-semibold text-slate-950 shadow-lg ring-1 ring-white/30"
	>
		Skip to content
	</a>

	<div class="min-h-dvh bg-slate-50 pb-[calc(6rem+env(safe-area-inset-bottom))] text-slate-950 md:pb-0">
		<Header active="home" />

		<main id="main">
			<section class="relative">
				<div class="mx-auto w-full max-w-6xl px-5 py-8 sm:py-12 lg:py-16">
					<div class="grid gap-8 lg:grid-cols-2 lg:items-center lg:gap-12">
						<div>
							<h1 class="text-3xl font-black leading-tight tracking-tight text-slate-950 sm:text-5xl lg:text-6xl">
								Bring your trading cards back to life
							</h1>
							<p class="mt-4 max-w-2xl text-base leading-relaxed text-slate-700 sm:mt-5 sm:text-xl">
								Whether it's a childhood favorite or a new pickup for your collection, we'll restore it with care.
							</p>

							<div class="mt-6 flex flex-col gap-3 sm:mt-8 sm:flex-row sm:flex-wrap sm:items-center">
								<a
									class="inline-flex w-full items-center justify-center rounded-full bg-emerald-600 px-6 py-3 text-base font-bold text-white shadow-sm hover:bg-emerald-700 sm:w-auto"
									href={mailtoHref}
								>
									Get my cards restored
								</a>
								<a class="inline-flex w-full items-center justify-center rounded-full border border-slate-200 bg-white px-6 py-3 text-base font-semibold text-slate-700 shadow-sm hover:bg-slate-50 hover:text-slate-950 sm:w-auto" href="#pricing">
									View pricing
								</a>
							</div>

							<p class="mt-4 text-sm text-slate-600 sm:mt-5">
								We typically reply within <strong class="font-semibold text-slate-950">1–2 business days</strong>. If you have a deadline, mention it.
							</p>

							<div class="mt-5 inline-flex items-center gap-2 rounded-full bg-white px-4 py-2.5 text-sm font-semibold text-slate-700 ring-1 ring-slate-200/80 shadow-sm">
								<svg aria-hidden="true" viewBox="0 0 24 24" class="h-4 w-4 text-emerald-600" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
									<rect x="2" y="4" width="20" height="16" rx="2"/>
									<path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"/>
								</svg>
								<a href={mailtoHref} class="hover:text-emerald-600 transition-colors">chris@slabworks.ca</a>
							</div>
						</div>

						<!-- Before/After Image Switcher -->
						<div>
							<BeforeAfterSwitcher
								beforeSrc="https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=800&h=600&fit=crop"
								afterSrc="https://images.unsplash.com/photo-1747691875590-14db938e42d4?q=80&w=800&h=600&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
								beforeAlt="Before restoration"
								afterAlt="After restoration"
							/>
							<div class="mt-4 text-right">
								<a
									class="text-sm font-semibold text-emerald-600 hover:text-emerald-700"
									href="/gallery"
								>
									View Gallery →
								</a>
							</div>
						</div>
					</div>
				</div>
			</section>

			<section class="mx-auto w-full max-w-6xl scroll-mt-24 px-5 py-12 sm:py-14" id="how-it-works" aria-label="How it works">
				<div class="flex flex-wrap items-end justify-between gap-4">
					<div class="max-w-3xl">
						<h2 class="text-3xl font-extrabold tracking-tight text-slate-950">How it works</h2>
						<p class="mt-3 text-slate-700">Photos first → clear plan → approval. No surprises.</p>
					</div>
				</div>

				<div class="mt-8 grid gap-5 md:grid-cols-3">
					{howItWorks.map((s) => (
						<div class="rounded-3xl bg-white p-6 ring-1 ring-slate-200/80 shadow-sm">
							<p class="text-sm font-semibold text-slate-600">{s.n}</p>
							<h3 class="mt-2 text-lg font-bold text-slate-950">{s.title}</h3>
							<p class="mt-3 text-sm leading-relaxed text-slate-700">{s.body}</p>
						</div>
					))}
				</div>

			</section>

			<section class="scroll-mt-24 border-y border-slate-200 bg-white" id="before-after" aria-label="Before and after photos">
				<div class="mx-auto w-full max-w-6xl px-5 py-12 sm:py-14">
					<div class="flex flex-wrap items-end justify-between gap-4">
						<div class="max-w-3xl">
							<h2 class="text-2xl font-extrabold tracking-tight text-slate-950">Before / After</h2>
							<p class="mt-2 max-w-2xl text-sm text-slate-700">
								See the transformation. Each example shows the condition before restoration and the results after our work.
							</p>
						</div>
						<a
							class="text-sm font-semibold text-emerald-600 hover:text-emerald-700"
							href="/gallery"
						>
							View Gallery →
						</a>
					</div>

					<div class="mt-8 grid gap-5 md:grid-cols-3">
						{Array.from({ length: 3 }).map((_, idx) => (
							<BeforeAfterSwitcher
								beforeSrc="https://images.unsplash.com/photo-1606107557195-0e29a4b5b4aa?w=800&h=600&fit=crop"
								afterSrc="https://images.unsplash.com/photo-1747691875590-14db938e42d4?q=80&w=800&h=600&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"
								beforeAlt="Before restoration"
								afterAlt="After restoration"
							/>
						))}
					</div>
				</div>
			</section>

			<section class="mx-auto w-full max-w-6xl scroll-mt-24 px-5 py-12 sm:py-14" id="pricing" aria-label="Pricing">
				<h2 class="text-3xl font-extrabold tracking-tight text-slate-950">Pricing</h2>
				<p class="mt-3 max-w-3xl text-slate-700">Simple: $50 per card. Save 10% on orders of 10+ cards.</p>

				<div class="mt-6 grid gap-5 lg:grid-cols-12 lg:items-stretch">
					<div class="lg:col-span-5 lg:h-full">
						<div class="rounded-3xl border border-emerald-200 bg-emerald-50/60 p-5 lg:h-full">
								<div class="flex flex-wrap items-end justify-between gap-3">
									<div>
										<div class="text-4xl font-black tracking-tight text-slate-950 sm:text-5xl">$50</div>
										<div class="mt-1 text-base font-semibold text-slate-700">per card</div>
									</div>
								</div>
								<p class="mt-5 text-xs leading-relaxed text-slate-600">Shipping costs are separate; return shipping is billed at cost with tracking.</p>
								<div class="mt-3 inline-flex items-center gap-2 rounded-2xl bg-white/80 px-3 py-2 text-xs font-semibold text-slate-700 ring-1 ring-emerald-200/80">
									<span class="h-1.5 w-1.5 rounded-full bg-emerald-500"></span>
									<span>10% off when you send 10+ cards</span>
								</div>

								<div class="mt-4 border-t border-emerald-200/70 pt-3">
									<p class="text-sm font-bold text-slate-950">What’s included</p>
									<ul class="mt-3 space-y-1 text-sm text-slate-700">
										<li class="flex items-start gap-2">
											<span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-emerald-400"></span>
											<span>Careful inspection</span>
										</li>
								<li class="flex items-start gap-2">
									<span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-emerald-400"></span>
									<span>Written plan before work begins</span>
								</li>
										<li class="flex items-start gap-2">
											<span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-emerald-400"></span>
											<span>Before/after photos</span>
										</li>
										<li class="flex items-start gap-2">
											<span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-emerald-400"></span>
											<span>Secure return packaging</span>
										</li>
									</ul>
								</div>
						</div>

					</div>

					<div class="lg:col-span-7 lg:flex lg:h-full lg:flex-col lg:gap-5">
						<div class="rounded-3xl bg-white p-6 ring-1 ring-slate-200/80 shadow-sm lg:flex-1">
							<h3 class="text-lg font-bold text-slate-950">Payment</h3>
							<p class="mt-3 text-sm leading-relaxed text-slate-700">
								Payment is due after we receive your cards (intake confirmed), before restoration begins. We'll include payment options in your invoice.
							</p>
						</div>

						<div class="mt-5 rounded-3xl bg-white p-6 ring-1 ring-slate-200/80 shadow-sm lg:mt-0 lg:flex-1">
							<h3 class="text-lg font-bold text-slate-950">Shipping</h3>
							<p class="mt-3 text-sm leading-relaxed text-slate-700">
								Shipping isn't included. Return shipping is billed at cost with tracking. We recommend tracked shipping both ways. For higher-value cards, consider insurance and signature on delivery. We'll provide the exact shipping address after we review your photos.
							</p>
						</div>
					</div>
				</div>
			</section>

			<section class="mx-auto w-full max-w-6xl scroll-mt-24 px-5 py-12 sm:py-14" id="faq" aria-label="Common questions">
				<h2 class="text-3xl font-extrabold tracking-tight text-slate-950">Common questions</h2>
				<p class="mt-3 max-w-3xl text-slate-700">Straight answers to questions collectors ask before sending photos.</p>

				<div class="mt-8 space-y-4">
					{faqs.map((item) => (
						<details class="group rounded-3xl bg-white p-6 ring-1 ring-slate-200/80 shadow-sm open:bg-slate-50">
							<summary class="cursor-pointer list-none text-lg font-bold text-slate-950">
								<span class="mr-2 inline-block translate-y-[1px] text-slate-400 group-open:rotate-90">›</span>
								{item.q}
							</summary>
							<p class="mt-3 text-sm leading-relaxed text-slate-700">
								{item.a}
							</p>
							{'bullets' in item && item.bullets ? (
								<ul class="mt-4 space-y-2 text-sm text-slate-700">
									{item.bullets.map((b: string) => (
										<li class="flex items-start gap-2">
											<span class="mt-2 h-1.5 w-1.5 shrink-0 rounded-full bg-emerald-400"></span>
											<span>{b}</span>
										</li>
									))}
								</ul>
							) : null}
						</details>
					))}
				</div>
			</section>

			<!-- Contact CTA section removed -->
		</main>

		<Footer />
	</div>

	<BeforeAfterSwitcherScript />
</Layout>